var e=require("preact/hooks").useLayoutEffect,r=!1;exports.useScrollPosition=function(o,t,n){var i,s=0,c=function(){var e=function(){try{return{x:window.scrollX,y:window.scrollY}}catch(e){return console.error("getScrollPosition err:",e.message),{x:0,y:0}}}();o({position:e,direction:s.y>e.y?"up":"down"}),i=null,s=e};e(function(){var e=function(){n&&null==i?i=setTimeout(c,n):n||c()};try{window.addEventListener("scroll",e),r=!0}catch(e){console.error("useScrollPosition err:",e.message)}return function(){return r&&window.removeEventListener("scroll",e)}},t)},exports.isWithinView=function(e){var r=e.y,o=void 0===r?0:r,t=e.key,n=e.id,i=e.ref,s=e.class,c=e.offset,l=void 0===c?0:c,a=e.repeatedly,u=void 0===a||a,d=e.addParentOffset,f=void 0!==d&&d,v=e.add,w=e.testDocument,y=e.cb;if(!e.skipEl&&(n||s||void 0!==i))try{var h=i&&i.current||(w||document).querySelector(n||s);return h?(f&&(l+=h.offsetParent.offsetTop),o>(w?h.dataset.offsettop-h.dataset.innerheight+l:h.offsetTop-window.innerHeight+l)?(h.classList.add(v),y&&y(t),!0):(u&&h.classList.remove(v),!1)):console.error("isWithinView err: "+(void 0!==i?"Element using ref":"Element '"+(n||s)+"'")+" was not found.")}catch(e){return console.error("isWithinView err:",e.message),!1}};
//# sourceMappingURL=preact.js.map
