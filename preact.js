var e=require("preact/hooks").useLayoutEffect,t=!1;exports.useScrollPosition=function(r,o,n){var i,s=0,c=function(){var e=function(){try{return{x:window.scrollX,y:window.scrollY}}catch(e){return console.error("getScrollPosition err:",e.message),{x:0,y:0}}}();r({position:e,direction:s.y>e.y?"up":"down"}),i=null,s=e};e(function(){var e=function(){n&&null==i?i=setTimeout(c,n):n||c()};try{window.addEventListener("scroll",e),t=!0}catch(e){console.error("useScrollPosition err:",e.message)}return function(){return t&&window.removeEventListener("scroll",e)}},o)},exports.isWithinView=function(e){var t=e.y,r=void 0===t?0:t,o=e.key,n=e.id,i=e.ref,s=e.class,c=e.query,l=e.offset,u=void 0===l?0:l,a=e.repeatedly,d=void 0===a||a,f=e.addParentOffset,v=void 0!==f&&f,m=e.add,w=e.testDocument,y=e.cb;if(!e.skipEl&&(n||c||s||void 0!==i))try{var h=null;return i&&i.current?h=i.current:n?h=(w||document).getElementById(n):s?h=(w||document).getElementsByClassName(s)[0]:c&&(h=(w||document).querySelector(c)),h?(v&&(u+=h.offsetParent.offsetTop),r>(w?h.dataset.offsettop-h.dataset.innerheight+u:h.offsetTop-window.innerHeight+u)?(h.classList.add(m),y&&y(o),!0):(d&&h.classList.remove(m),!1)):console.error("isWithinView err: "+(void 0!==i?"Element using ref":"Element '"+(n||s||c)+"'")+" was not found.")}catch(e){return console.error("isWithinView err:",e.message),!1}};
//# sourceMappingURL=preact.js.map
